# Очистка excerpt от служебных элементов

## Проблема

В excerpt новостей попадали служебные элементы типа `[…]byМарышев НикитаonСен 16Подробнее`, что делало текст нечитаемым.

**Пример проблемы:**
- Excerpt: "Приглашаем вас принять участие в Экспертной программе II Международного симпозиума «Создавая будущее», которая состоится в Национальном центре «Россия» 7–8 октября […]byМарышев НикитаonСен 29Подробнее"

## Решение

Добавлена комплексная очистка excerpt от служебных элементов в `parser/news_parser.py`:

### Регулярные выражения для очистки

```python
# Очищаем от служебных элементов
if excerpt:
    # Убираем элементы типа "[…]byМарышев НикитаonСен 16Подробнее"
    excerpt = re.sub(r'\[…\].*?Подробнее', '', excerpt)
    # Убираем элементы типа "byАвторonДата"
    excerpt = re.sub(r'by\w+on\w+\d+', '', excerpt)
    # Убираем элементы типа "byАвторonМесяц"
    excerpt = re.sub(r'by\w+on\w+', '', excerpt)
    # Убираем одиночные "by" и "on"
    excerpt = re.sub(r'\bby\b|\bon\b', '', excerpt)
    # Убираем лишние пробелы и знаки препинания
    excerpt = re.sub(r'\s+', ' ', excerpt).strip()
    # Убираем знаки препинания в конце, если они остались после очистки
    excerpt = re.sub(r'[.,;:!?]+$', '', excerpt).strip()
```

### Что очищается

1. **Элементы с многоточием**: `[…]byАвторonДатаПодробнее`
2. **Авторские подписи**: `byМарышев НикитаonСен 29`
3. **Одиночные служебные слова**: `by`, `on`
4. **Лишние пробелы**: множественные пробелы заменяются одним
5. **Знаки препинания в конце**: если они остались после очистки

## Результат

**После исправления:**
- Excerpt: "Приглашаем вас принять участие в Экспертной программе II Международного симпозиума «Создавая будущее», которая состоится в Национальном центре «Россия» 7–8 октября"

## Тестирование

Протестированы первые 3 страницы новостей:
- ✅ Страница 1: excerpt чистый, без служебных элементов
- ✅ Страница 2: excerpt чистый, без служебных элементов  
- ✅ Страница 3: excerpt чистый, без служебных элементов

## Файлы

- `parser/news_parser.py` - добавлена очистка excerpt от служебных элементов
- `app/news_api.py` - использует очищенный парсер
- `app/templates/index.html` - отображает чистые excerpt

Теперь все excerpt новостей читаемы и не содержат служебной информации!



